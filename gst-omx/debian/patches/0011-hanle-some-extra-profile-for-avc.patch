Description: <short summary of the patch>
 TODO: Put a short summary on the line above and replace this paragraph
 with a longer explanation of this change. Complete the meta-information
 with other relevant fields (see below for details). To make it easier, the
 information below has been extracted from the changelog. Adjust it or drop
 it.
 .
 gst-omx (1.22.0-1) unstable; urgency=low
 .
   * New upstream release.
Author: Ying-Chun Liu (PaulLiu) <paulliu@debian.org>

---
The information above should follow the Patch Tagging Guidelines, please
checkout https://dep.debian.net/deps/dep3/ to learn about the format. Here
are templates for supplementary fields that you might want to add:

Origin: (upstream|backport|vendor|other), (<patch-url>|commit:<commit-id>)
Bug: <upstream-bugtracker-url>
Bug-Debian: https://bugs.debian.org/<bugnumber>
Bug-Ubuntu: https://launchpad.net/bugs/<bugnumber>
Forwarded: (no|not-needed|<patch-forwarded-url>)
Applied-Upstream: <version>, (<commit-url>|commit:<commid-id>)
Reviewed-By: <name and email of someone who approved/reviewed the patch>
Last-Update: 2023-03-01

--- gst-omx-1.22.0.orig/omx/gstomxh264utils.c
+++ gst-omx-1.22.0/omx/gstomxh264utils.c
@@ -54,6 +54,19 @@ static const H264ProfileMapping h264_pro
 #endif
 };
 
+#ifdef USE_OMX_TARGET_STARFIVE
+static const H264ProfileMapping h264_ext_profiles[] = {
+  {"progressive-high",
+      (OMX_VIDEO_AVCPROFILETYPE) OMX_VIDEO_AVCProfileHigh},
+  {"constrained-high",
+      (OMX_VIDEO_AVCPROFILETYPE) OMX_VIDEO_AVCProfileHigh},
+  {"high-10-intra",
+      (OMX_VIDEO_AVCPROFILETYPE) OMX_VIDEO_AVCProfileHigh10},
+  {"high-4:2:2-intra",
+      (OMX_VIDEO_AVCPROFILETYPE) OMX_VIDEO_AVCProfileHigh422},
+};
+#endif
+
 OMX_VIDEO_AVCPROFILETYPE
 gst_omx_h264_utils_get_profile_from_str (const gchar * profile)
 {
@@ -64,6 +77,15 @@ gst_omx_h264_utils_get_profile_from_str
       return h264_profiles[i].e;
   }
 
+#ifdef USE_OMX_TARGET_STARFIVE
+  for (i = 0; i < G_N_ELEMENTS (h264_ext_profiles); i++) {
+    if (g_str_equal (profile, h264_ext_profiles[i].profile)) {
+      GST_INFO("extra profile: %s ==> avc profie type: %d", profile, h264_ext_profiles[i].e);
+      return h264_ext_profiles[i].e;
+    }
+  }
+#endif
+
   return OMX_VIDEO_AVCProfileMax;
 }
 
